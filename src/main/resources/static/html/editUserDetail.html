<!DOCTYPE html>
<html lang="en">
<title>个人信息修改</title>
<link rel="stylesheet" href="../css/login.css">
<script src="../js/jquery-3.4.1.min.js"></script>
<script src="../js/login.js"></script>
<link rel="stylesheet" href="../css/index.css">
<head>
  <meta charset="UTF-8">
</head>
<script type="text/javascript">
  $(function () {
    $.ajax({
      url: "http://localhost:8080/user/editDetail",
      cache: false,
      type: "get",
      withCredentials: true,
      crossDomain: true,
      traditional:true,
      xhrFields: {
        withCredentials: false
      },	//前端适配：允许session跨域
      async: true,
      dataType:'text',
      success: function (result) {
        if (result !== null && result!=='') {
          $("#editDisplay").css("display", "none");
          $("#editShow").css("display", "show");
          $("#phone").attr("value", result.phone);
          $("#password").attr("value", result.pass);
          $("#address").attr("value", result.address);
          $("#address2").attr("value", result.address2);
          $("#address3").attr("value", result.address3);
        } else {
         alert("您还未登录");
        }
      }
    });
  })
</script>
<body>
<div id="editDisplay" style="display: none">
  <span>您还未登录</span>
</div>
<div class="login" id ="editShow">
  <div class="loginBox LRBox">
    <div class="loginBox-content">
      <div id="userDetail" class="j-loginContent loginBox-content-item ">
        <form>
          <input type="hidden" name="returnUrl" value="https://www.eelly.com/index.php?app=member"/>
          <div class="errorText j-errorText">
          </div>
          <ul class="loginForm">

            <li>
              <div class="hasBtn">
                <input type="text" class="inputText j-mobileLogin" name="phone"
                       id = "phone" placeholder="手机" autocomplete="off"/>
              </div>
            </li>
            <li>
              <input type="password" id = password name="pass" class="inputText" placeholder="密码"/>
            </li>

            <li>
              <input type="text" id="address" name="address" class="inputText" placeholder="地址1"/>
            </li>
            <li>
              <input type="text" id="address2" name="address2" class="inputText" placeholder="地址2"/>
            </li>
            <li>
              <input type="text" id="address3" name="address3" class="inputText" placeholder="地址3"/>
            </li>
            <li>
              <button type="button" onclick="edit()" class="buttonRed submitBtn">修改</button>
            </li>
          </ul>
        </form>
      </div>

    </div>
  </div>
</div>
</body>
</html>